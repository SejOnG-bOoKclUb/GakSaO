# 6장 객체 지도

지도 제작자는 사용자가 어떤 목적으로 지도를 사용할 지를 고려하지 않고 만든다. 
-> 변하는 요구사항을 수용할 수 있도록 설계

깔끔하고 단순하며 유지보수하기 쉬운 설계는 사용자의 요구사항을 반영하기 쉽게 하고 쉽게 확장 가능한 소프트웨어를 만들 수 있게 해준다.

요구사항은 쉽게 변경될 수 있지만 그것을 예측하는 것은 쉽지 않다.
변경에 대비하는 좋은 방법은 변경을 예측하는 것이 아니라 변경을 수용할 수 있는 설계를 하는 것이다.

객체지향 세계를 구축하기 위해서는 사용자에게 제공할 '기능'과 기능을 담을 안정적인 '구조'가 준비되어야 한다.

- 구조 -> 도메인 모델 -> 안정적인 구조
  - 사용자가 프로그램을 사용하는 대상 영역을 단순화하고 구조화한 것을 말한다.
- 기능 -> 유스케이스 -> 불안정한 기술
  - 사용자의 목표를 달성하기 위해 사용자와 시스템 간에 이뤄지는 상호작용의 흐름을 정리한 것 

소프트웨어 객체는 현실 객체에 대한 추상화가 아니다
소프트웨어 객체는 현실 객체를 모방한 것이 아니라 은유를 기반으로 재창조한 것이다.

현실세계를 투영한 도메인 모델을 토대로 코드를 작성해야 한다.
1. 표현적 차이가 줄어든다.
2. 도메인 모델의 구조가 상대적으로 안정적이다.

> p.191 지금까지는 행동을 통해 객체의 관계를 정의하라고 해놓고 왜 여기서는 바로 속성부터 정의하는가?
> 
> 이건 도메인 모델을 정의하는거라 좀 다른건가? 그럼 도메인 모델은 행위로 관계를 정의하는 것이 아닌가?


유스케이스의 특성

1. 다이어그램이 아니다. -> 다이어그램에 집착하지 마라
2. 하나의 시나리오가 아니라 여러 시나리오의 집합이다.
3. 단순한 기능 목록과는 다르다. -> 기능을 시간 순서에 따라 연결한것
4. 사용자 인터페이스와 관련한 정보를 포함해서는 안된다.
5. 내부 설계와 관련한 정보를 포함하지 않는다. -> 유스케이스는 설계 기법도, 객체지향 기법도 아니다.

유스케이스는 사용자에게 제공할 기능을 시스템의 책임으로 보게 함으로써 객체 간의 안정적인 구조에 책임을 분배할 수 있는 출발점을 제공한다.
-> 시스템은 메시지를 받는 커다란 객체이다. 시스템은 내부의 안정적인 도메인 모델을 기반으로 한 객체들과 책임을 나누어 수행한다.

연결 완전성 : 도메인 모델링에서 사용한 객체와 개념을 객체와 클래스로 깔끔하게 변환할 수 있다.
객체지향은 연결 완전성의 역과정도 지원한다.

> 느낀점
> 
> 개발자는 변할 수 있는 요구사항을 고려해 개발해야 한다.
> 유스케이스에 정리된 시스템의 기능을 도메인 모델을 기반으로 한 객체들의 책임으로 분배해야한다.
> 
> 처음 설게에 들어갈 때 OCP원칙을 생각하며 코드를 짜야한다. 
> (확장에 대해 열려 있어야 하고, 수정에 대해서는 닫혀 있어야 한다)


# 7장 함께 모으기

객체지향 설계 안에 존재하는 3가지 관점
1. 개념 관점 : 도메인과 그 도메인 사이의 관계를 말한다.
   - 소프트웨어 클래스와 도메인 클래스 사이의 간격이 좁으면 좁을수록 기능을 변경하기 위해 뒤적거려야 하는 코드의 양도 줄어든다.
2. 명세 관점 : 소프트웨어적으로 객체 사이의 인터페이스를 말한다.
   - 인터페이스를 수정하면 해당 객체와 협력하는 모든 객체에게 영향을 미친다. 
   - 때문에 안정적인 인터페이스를 만들기 위해서는 인터페이스를 통해 구현과 관련한 세부사항이 드러나면 안된다.
3. 구현 관점 : 객체에 직접적인 책임을 부여하는 것을 말한다.
   - 메서드의 구현과 속성의 변경은 원칙적으로 외부의 객체에 영향을 미쳐서는 안된다.


객체들의 구성을 동적으로 구성한 후에 정적으로 나누어 인터페이스를 만든다.
인터페이스를 구성할 떄는 구현 내부의 속성은 전혀 드러나서는 안된다.
테스트 주도 설계는 테스트 코드를 작성해 가면서 협력을 설계하는 것을 말한다.

객체지향 설계란 위 3가지 관점을 모두 적용해야 한다.
- 위 3가지 관점은 동일한 코드를 바라보는 서로 다른 관점이다.
- 위 3가지 관점을 명확하게 드러내는 코드를 작성하기 위해 노력해야 한다.

도메인 개념을 참조해 객체를 선택하는 것은 코드의 구조와 의미를 쉽게 유추할 수 있게 만들어 준다.

> 느낀점
> 
> 이 책을 읽으면서 객체지향적으로 구조를 설계하는 방식에 대해 많은 고민을 하게 되었다.
> 객체지향 설계에서 가장 중요한 것은 모순적이지만 객체 위주로 설계하면 안된다는 점이라고 생각한다.
> 객체보다는 메시지 위주로 설계하고 그 메시지를 수신할 수 있는 적절한 객체를 찾아가며 설계해야 적절한 책임을 부여할 수 있다고 생각한다.
> 
> 정리를 하면서 내 생각보다는 책에 있는 의미있는 구절을 적었던 적이 많았다고 생각한다.
> 다음 책으로 넘어가면서 책의 구절을 적기 보다는 내 생각을 정리해서 적는 연습이 필요하다는 것을 느꼈다.
